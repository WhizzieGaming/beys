const Beyblade=require("./Beyblade.js");class EraseDiabolos extends Beyblade{constructor(){super("Erase Diabolos","Balance","https://static.wikia.nocookie.net/beyblade/images/7/75/BBGT_Erase_Diabolos_Vanguard_Bullet_Beyblade.png/revision/latest/scale-to-width-down/349?cb=20190712113422"),this.specials=[{name:"Bullet Cannon",requires:function(e,i,n){return e.bey.miniOut&&!e.bey.miniGone&&e.sp>=1},execute:function(e,i,n){n.add(`[${e.username}] Erase Diabolos used **Bullet Cannon**!`),i.hp-=Math.round(e.atk+6),i.stability-=2}},{name:"Shining Launch",requires:function(e,i,n){return e.sp>4},execute:function(e,i,n){i.hp-=30+Math.round(.4*(e.lvl-1)),i.stability-=8,e.stability-=3,n.add(`[${e.username}] Erase Diabolos used **Shining Launch**!`)}},{name:"Shining Cross",requires:function(e,i,n){return e.bey.miniOut&&!e.bey.miniGone&&e.sp>=5&&i.hp/i.maxhp*100<15},execute:function(e,i,n){i.hp=0,i.stamina=0,i.stability=0,n.add(`[${e.username}] Erase Diabolos used **Shining Cross**! RIP the opponent.`)}},{name:"Bullet Impact",requires:function(e,i,n){return e.bey.miniOut&&!e.bey.miniGone&&e.sp>3},execute:function(e,i,n){i.hp-=28+Math.round(.28*(e.lvl-1)),i.stability-=15}}],this.passives=[{name:"Dual Phantom / Bullet Attack",requires:function(e,i,n){let t=Math.floor(4*Math.random());return("fight"==i.move&&0==t&&e.hp/e.maxhp*100<75||"fight"==i.move&&e.hp/e.maxhp*100<30)&&!e.bey.miniOut},execute:function(e,i,n){e.bey.miniOut=!0,n.add(`[${e.username}] Erase Diabolos' mini Bey has been hit off.`);let t=setInterval(()=>{i.stamina-=.5,i.stability-=1},2e3),a=12e3+500*(e.lvl-1);setTimeout(()=>{clearInterval(t),n.add(`[${e.username}] Erase Diabolos' mini Bey ringed-out.`)},a)},cd:0}],this.miniOut=!1,this.miniGone=!1,this.sd=1,this.sdchangable=!1}}module.exports=EraseDiabolos;